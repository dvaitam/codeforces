package main

import (
	"bytes"
	"fmt"
	"os"
	"os/exec"
	"strconv"
	"strings"
)

// Embedded test cases from testcasesD.txt. Format: t, then for each test two lines of five integers.
const testcasesRaw = `100
17 5 5 6 23
29 4 5 5 38
10 4 3 7 14
16 4 5 9 30
22 2 2 7 9
26 4 1 6 49
12 2 5 5 19
10 3 4 8 46
22 4 4 9 36
24 2 3 3 2
14 4 2 4 43
23 3 4 8 24
28 3 5 9 26
28 2 3 8 1
18 5 2 7 20
27 5 5 5 45
30 2 5 7 18
13 1 4 9 30
12 3 1 4 9
12 3 1 4 9
10 3 4 7 7
11 5 5 5 24
28 3 5 7 32
17 1 3 3 4
13 5 5 5 12
23 3 5 7 9
11 3 3 5 8
22 4 4 8 24
30 5 5 5 39
26 3 4 9 46
17 3 4 6 33
19 5 3 3 50
23 5 3 3 24
29 5 2 2 40
30 3 4 6 43
21 5 3 8 31
10 5 1 6 1
21 3 4 6 37
29 3 2 4 11
20 3 5 7 19
22 1 1 5 43
14 3 5 6 41
18 2 3 4 43
23 1 1 5 20
20 2 4 5 5
20 2 5 8 17
17 1 1 5 12
20 5 2 4 21
30 1 5 7 37
14 4 3 7 50
18 4 3 8 26
19 4 5 8 2
23 2 2 2 30
29 5 4 8 45
17 1 4 9 47
26 3 5 7 14
12 5 3 3 15
11 1 5 6 27
28 1 1 4 47
13 2 5 7 15
10 5 5 8 3
29 1 3 4 16
27 4 1 3 14
16 1 5 5 10
17 3 2 2 31
30 5 4 4 48
18 2 3 7 33
26 4 1 4 20
10 1 2 2 7
11 1 4 4 45
12 5 5 8 20
15 3 1 3 24
30 4 5 7 23
18 2 3 6 7
14 5 1 6 46
22 1 5 6 2
21 4 5 10 50
27 4 1 5 27
11 3 4 9 20
23 4 4 4 15
22 5 4 8 11
22 4 5 5 3
11 1 5 6 43
11 4 2 6 38
24 2 1 10 29
10 2 5 10 7
12 2 1 3 44
30 2 1 6 5
21 5 3 8 27
22 3 2 10 31
23 2 3 8 14
25 1 4 4 26
24 1 3 7 16
13 4 4 8 35
16 3 3 7 3
25 1 3 5 50
26 5 1 1 43
15 5 1 3 9
16 5 4 7 19
13 5 2 5 15
20 3 5 5 5
10 1 3 9 30
11 4 4 8 22
20 5 5 10 12
20 5 4 7 46
19 1 1 7 6
29 4 5 10 17
25 1 2 2 46
16 1 1 6 32
26 1 3 8 44
12 4 4 8 37
21 1 1 2 21
27 1 5 9 6
30 1 1 3 36
18 4 2 2 40
22 1 1 6 7
25 4 4 6 46
15 2 2 6 20
21 5 5 9 8
24 3 1 1 36
30 1 3 8 9
26 5 3 7 2
30 5 3 5 13
29 5 4 10 17
11 3 4 10 45
19 4 2 8 29
20 4 1 3 32
25 4 3 9 32
16 2 1 1 43
17 4 2 3 3
24 5 2 4 38
20 2 5 6 11
21 1 5 9 4
13 4 3 3 50
30 3 1 3 10
23 2 3 9 6
12 2 2 5 23
27 4 2 4 41
23 4 1 8 41
29 2 3 9 40
23 4 3 8 3
12 3 3 8 38
25 1 3 8 13
16 2 4 5 27
11 2 1 2 14
14 1 4 7 12
27 1 3 8 5
27 4 5 6 50
14 5 2 3 29
14 3 5 6 44
15 5 1 6 25
10 4 1 7 2
21 3 1 8 17
22 3 5 8 10
23 5 5 10 41
12 3 1 5 22
12 1 1 6 40
26 4 3 4 18
11 1 5 6 34
11 1 1 2 32
10 1 1 2 32
11 4 1 2 41
26 3 2 5 21
25 3 1 4 19
29 4 1 3 11
23 1 5 8 35
20 5 4 5 47
22 5 3 4 23
23 4 2 5 49
25 3 3 4 32
29 4 4 4 9
15 1 4 4 48
13 3 2 6 41
11 5 1 4 29
30 3 3 3 4
16 4 1 3 36
19 1 4 4 41
16 2 1 2 41
14 5 1 1 14
19 2 2 6 32
16 4 1 3 15
21 1 4 6 10
24 4 3 7 34
20 5 2 7 1
21 2 4 9 2
19 4 2 2 6
11 3 2 8 40
22 1 5 5 17
14 1 2 2 42
19 1 4 6 18
18 3 1 1 39
15 2 5 6 29
14 2 1 5 12
13 2 1 6 37
15 2 2 3 22
11 1 5 10 10
30 2 1 7 37
25 1 5 8 12
19 2 5 8 31
18 2 5 6 46
19 2 2 8 7
24 5 4 8 11
20 4 2 2 15
22 4 1 2 29
29 4 1 1 15
15 4 1 8 43
25 3 3 8 17
26 3 4 10 39
10 3 2 9 19
20 4 3 7 42
14 3 1 7 38
15 5 2 7 24
14 3 4 10 1
24 1 3 9 20
30 4 5 6 43
18 2 4 9 12
16 4 1 6 3
13 3 5 7 45
24 3 5 9 50
25 4 5 10 3
19 2 2 4 35
13 3 4 7 44
24 4 2 10 25
15 3 5 7 9
16 1 3 9 27
18 5 1 5 37
24 4 2 6 47
18 1 1 9 15
12 2 1 5 27
10 1 1 7 24
30 2 3 9 30
28 1 3 4 6
21 2 2 6 34
25 4 1 5 2
11 1 1 2 7
16 5 4 10 20
11 4 2 5 11
20 4 1 8 27
13 3 3 7 13
15 5 4 7 39
11 4 2 9 33
18 2 3 5 26
17 4 4 6 18
20 4 5 10 37
11 3 3 3 36
28 5 2 4 4
19 2 1 6 21
30 1 2 6 16
20 3 3 10 18
12 4 1 9 20
26 1 2 10 40
11 5 3 4 20
13 5 1 3 41
13 5 1 10 12
29 1 3 9 48
17 2 2 7 39
16 4 5 8 38
25 2 1 7 18
22 4 3 5 29
16 3 4 4 35
21 1 1 8 25
21 2 5 7 25
10 3 2 3 15
15 1 5 8 36
24 5 1 1 6
11 4 4 5 11
21 5 2 4 13
28 1 4 5 11
30 1 4 10 33
16 3 3 8 18
21 3 1 1 37
15 1 2 7 18
17 1 1 4 20
27 2 2 8 5
17 1 1 4 26
20 4 1 10 37
11 1 3 5 1
11 4 3 5 4
24 4 1 3 10
28 4 2 10 24
18 1 4 9 3
23 2 2 7 2
28 3 3 6 45
11 5 2 3 31
11 1 5 5 8
10 3 2 9 31
19 2 4 5 3
29 2 2 4 46
10 5 3 4 20
18 3 2 4 4
18 1 4 5 36
20 2 4 5 12
13 4 2 4 15
21 3 5 5 40
20 5 3 5 8
25 4 4 7 8
27 4 1 10 35
18 4 2 8 46
15 4 4 10 29
16 3 5 9 2
26 5 5 9 38
19 2 4 6 1
15 4 5 10 17
10 1 1 2 32
11 4 1 2 41
26 3 2 5 21
25 3 1 4 19
29 4 1 3 11
23 1 5 8 35
20 5 4 5 47
22 5 3 4 23
23 4 2 5 49
25 3 3 4 32
29 4 4 4 9
15 1 4 4 48
13 3 2 6 41
11 5 1 4 29
30 3 3 3 4
16 4 1 3 36
19 1 4 4 41
16 2 1 2 41
14 5 1 1 14
19 2 2 6 32
16 4 1 3 15
21 1 4 6 10
24 4 3 7 34
20 5 2 7 1
21 2 4 9 2
19 4 2 2 6
11 3 2 8 40
22 1 5 5 17
14 1 2 2 42
19 1 4 6 18
18 3 1 1 39
15 2 5 6 29
14 2 1 5 12
13 2 1 6 37
15 2 2 3 22
11 1 5 10 10
30 2 1 7 37
25 1 5 8 12
19 2 5 8 31
18 2 5 6 46
19 2 2 8 7
24 5 4 8 11
20 4 2 2 15
22 4 1 2 29
29 4 1 1 15
15 4 1 8 43
25 3 3 8 17
26 3 4 10 39
10 3 2 9 19
20 4 3 7 42
14 3 1 7 38
15 5 2 7 24
14 3 4 10 1
24 1 3 9 20
30 4 5 6 43
18 2 4 9 12
16 4 1 6 3
13 3 5 7 45
24 3 5 9 50
25 4 5 10 3
19 2 2 4 35
13 3 4 7 44
24 4 2 10 25
15 3 5 7 9
16 1 3 9 27
18 5 1 5 37
24 4 2 6 47
18 1 1 9 15
12 2 1 5 27
10 1 1 7 24
30 2 3 9 30
28 1 3 4 6
21 2 2 6 34
25 4 1 5 2
11 1 1 2 7
16 5 4 10 20
11 4 2 5 11
20 4 1 8 27
13 3 3 7 13
15 5 4 7 39
11 4 2 9 33
18 2 3 5 26
17 4 4 6 18
20 4 5 10 37
11 3 3 3 36
28 5 2 4 4
19 2 1 6 21
30 1 2 6 16
20 3 3 10 18
12 4 1 9 20
26 1 2 10 40
11 5 3 4 20
13 5 1 3 41
13 5 1 10 12
29 1 3 9 48
17 2 2 7 39
16 4 5 8 38
25 2 1 7 18
22 4 3 5 29
16 3 4 4 35
21 1 1 8 25
21 2 5 7 25
10 3 2 3 15
15 1 5 8 36
24 5 1 1 6
11 4 4 5 11
21 5 2 4 13
28 1 4 5 11
30 1 4 10 33
16 3 3 8 18
21 3 1 1 37
15 1 2 7 18
17 1 1 4 20
27 2 2 8 5
17 1 1 4 26
20 4 1 10 37
11 1 3 5 1
11 4 3 5 4
24 4 1 3 10
28 4 2 10 24
18 1 4 9 3
23 2 2 7 2
28 3 3 6 45
11 5 2 3 31
11 1 5 5 8
10 3 2 9 31
19 2 4 5 3
29 2 2 4 46
10 5 3 4 20
18 3 2 4 4
18 1 4 5 36
20 2 4 5 12
13 4 2 4 15
21 3 5 5 40
20 5 3 5 8
25 4 4 7 8
27 4 1 10 35
18 4 2 8 46
15 4 4 10 29
16 3 5 9 2
26 5 5 9 38
19 2 4 6 1
15 4 5 10 17
10 1 1 2 32
11 4 1 2 41
26 3 2 5 21
25 3 1 4 19
29 4 1 3 11
23 1 5 8 35
20 5 4 5 47
22 5 3 4 23
23 4 2 5 49
25 3 3 4 32
29 4 4 4 9
15 1 4 4 48
13 3 2 6 41
11 5 1 4 29
30 3 3 3 4
16 4 1 3 36
19 1 4 4 41
16 2 1 2 41
14 5 1 1 14
19 2 2 6 32
16 4 1 3 15
21 1 4 6 10
24 4 3 7 34
20 5 2 7 1
21 2 4 9 2
19 4 2 2 6
11 3 2 8 40
22 1 5 5 17
14 1 2 2 42
19 1 4 6 18
18 3 1 1 39
15 2 5 6 29
14 2 1 5 12
13 2 1 6 37
15 2 2 3 22
11 1 5 10 10
30 2 1 7 37
25 1 5 8 12
19 2 5 8 31
18 2 5 6 46
19 2 2 8 7
24 5 4 8 11
20 4 2 2 15
22 4 1 2 29
29 4 1 1 15
15 4 1 8 43
25 3 3 8 17
26 3 4 10 39
10 3 2 9 19
20 4 3 7 42
14 3 1 7 38
15 5 2 7 24
14 3 4 10 1
24 1 3 9 20
30 4 5 6 43
18 2 4 9 12
16 4 1 6 3
13 3 5 7 45
24 3 5 9 50
25 4 5 10 3
19 2 2 4 35
13 3 4 7 44
24 4 2 10 25
15 3 5 7 9
16 1 3 9 27
18 5 1 5 37
24 4 2 6 47
18 1 1 9 15
12 2 1 5 27
10 1 1 7 24
30 2 3 9 30
28 1 3 4 6
21 2 2 6 34
25 4 1 5 2
11 1 1 2 7
16 5 4 10 20
11 4 2 5 11
20 4 1 8 27
13 3 3 7 13
15 5 4 7 39
11 4 2 9 33
18 2 3 5 26
17 4 4 6 18
20 4 5 10 37
11 3 3 3 36
28 5 2 4 4
19 2 1 6 21
30 1 2 6 16
20 3 3 10 18
12 4 1 9 20
26 1 2 10 40
11 5 3 4 20
13 5 1 3 41
13 5 1 10 12
29 1 3 9 48
17 2 2 7 39
16 4 5 8 38
25 2 1 7 18
22 4 3 5 29
16 3 4 4 35
21 1 1 8 25
21 2 5 7 25
10 3 2 3 15
15 1 5 8 36
24 5 1 1 6
11 4 4 5 11
21 5 2 4 13
28 1 4 5 11
30 1 4 10 33
16 3 3 8 18
21 3 1 1 37
15 1 2 7 18
17 1 1 4 20
27 2 2 8 5
17 1 1 4 26
20 4 1 10 37
11 1 3 5 1
11 4 3 5 4
24 4 1 3 10
28 4 2 10 24
18 1 4 9 3
23 2 2 7 2
28 3 3 6 45
11 5 2 3 31
11 1 5 5 8
10 3 2 9 31
19 2 4 5 3
29 2 2 4 46
10 5 3 4 20
18 3 2 4 4
18 1 4 5 36
20 2 4 5 12
13 4 2 4 15
21 3 5 5 40
20 5 3 5 8
25 4 4 7 8
27 4 1 10 35
18 4 2 8 46
15 4 4 10 29
16 3 5 9 2
26 5 5 9 38
19 2 4 6 1
15 4 5 10 17
10 1 1 2 32
11 4 1 2 41
26 3 2 5 21
25 3 1 4 19
29 4 1 3 11
23 1 5 8 35
20 5 4 5 47
22 5 3 4 23
23 4 2 5 49
25 3 3 4 32
29 4 4 4 9
15 1 4 4 48
13 3 2 6 41
11 5 1 4 29
30 3 3 3 4
16 4 1 3 36
19 1 4 4 41
16 2 1 2 41
14 5 1 1 14
19 2 2 6 32
16 4 1 3 15
21 1 4 6 10
24 4 3 7 34
20 5 2 7 1
21 2 4 9 2
19 4 2 2 6
11 3 2 8 40
22 1 5 5 17
14 1 2 2 42
19 1 4 6 18
18 3 1 1 39
15 2 5 6 29
14 2 1 5 12
13 2 1 6 37
15 2 2 3 22
11 1 5 10 10
30 2 1 7 37
25 1 5 8 12
19 2 5 8 31
18 2 5 6 46
19 2 2 8 7
24 5 4 8 11
20 4 2 2 15
22 4 1 2 29
29 4 1 1 15
15 4 1 8 43
25 3 3 8 17
26 3 4 10 39
10 3 2 9 19
20 4 3 7 42
14 3 1 7 38
15 5 2 7 24
14 3 4 10 1
24 1 3 9 20
30 4 5 6 43
18 2 4 9 12
16 4 1 6 3
13 3 5 7 45
24 3 5 9 50
25 4 5 10 3
19 2 2 4 35
13 3 4 7 44
24 4 2 10 25
15 3 5 7 9
16 1 3 9 27
18 5 1 5 37
24 4 2 6 47
18 1 1 9 15
12 2 1 5 27
10 1 1 7 24
30 2 3 9 30
28 1 3 4 6
21 2 2 6 34
25 4 1 5 2
11 1 1 2 7
16 5 4 10 20
11 4 2 5 11
20 4 1 8 27
13 3 3 7 13
15 5 4 7 39
11 4 2 9 33
18 2 3 5 26
17 4 4 6 18
20 4 5 10 37
11 3 3 3 36
28 5 2 4 4
19 2 1 6 21
30 1 2 6 16
20 3 3 10 18
12 4 1 9 20
26 1 2 10 40
11 5 3 4 20
13 5 1 3 41
13 5 1 10 12
29 1 3 9 48
17 2 2 7 39
16 4 5 8 38
25 2 1 7 18
22 4 3 5 29
16 3 4 4 35
21 1 1 8 25
21 2 5 7 25
10 3 2 3 15
15 1 5 8 36
24 5 1 1 6
11 4 4 5 11
21 5 2 4 13
28 1 4 5 11
30 1 4 10 33
16 3 3 8 18
21 3 1 1 37
15 1 2 7 18
17 1 1 4 20
27 2 2 8 5
17 1 1 4 26
20 4 1 10 37
11 1 3 5 1
11 4 3 5 4
24 4 1 3 10
28 4 2 10 24
18 1 4 9 3
23 2 2 7 2
28 3 3 6 45
11 5 2 3 31
11 1 5 5 8
10 3 2 9 31
19 2 4 5 3
29 2 2 4 46
10 5 3 4 20
18 3 2 4 4
18 1 4 5 36
20 2 4 5 12
13 4 2 4 15
21 3 5 5 40
20 5 3 5 8
25 4 4 7 8
27 4 1 10 35
18 4 2 8 46
15 4 4 10 29
16 3 5 9 2
26 5 5 9 38
19 2 4 6 1
15 4 5 10 17
10 1 1 2 32
11 4 1 2 41
26 3 2 5 21
25 3 1 4 19
29 4 1 3 11
23 1 5 8 35
20 5 4 5 47
22 5 3 4 23
23 4 2 5 49
25 3 3 4 32
29 4 4 4 9
15 1 4 4 48
13 3 2 6 41
11 5 1 4 29
30 3 3 3 4
16 4 1 3 36
19 1 4 4 41
16 2 1 2 41
14 5 1 1 14
19 2 2 6 32
16 4 1 3 15
21 1 4 6 10
24 4 3 7 34
20 5 2 7 1
21 2 4 9 2
19 4 2 2 6
11 3 2 8 40
22 1 5 5 17
14 1 2 2 42
19 1 4 6 18
18 3 1 1 39
15 2 5 6 29
14 2 1 5 12
13 2 1 6 37
15 2 2 3 22
11 1 5 10 10
30 2 1 7 37
25 1 5 8 12
19 2 5 8 31
18 2 5 6 46
19 2 2 8 7
24 5 4 8 11
20 4 2 2 15
22 4 1 2 29
29 4 1 1 15
15 4 1 8 43
25 3 3 8 17
26 3 4 10 39
10 3 2 9 19
20 4 3 7 42
14 3 1 7 38
15 5 2 7 24
14 3 4 10 1
24 1 3 9 20
30 4 5 6 43
18 2 4 9 12
16 4 1 6 3
13 3 5 7 45
24 3 5 9 50
25 4 5 10 3
19 2 2 4 35
13 3 4 7 44
24 4 2 10 25
15 3 5 7 9
16 1 3 9 27
18 5 1 5 37
24 4 2 6 47
18 1 1 9 15
12 2 1 5 27
10 1 1 7 24
30 2 3 9 30
28 1 3 4 6
21 2 2 6 34
25 4 1 5 2
11 1 1 2 7
16 5 4 10 20
11 4 2 5 11
20 4 1 8 27
13 3 3 7 13
15 5 4 7 39
11 4 2 9 33
18 2 3 5 26
17 4 4 6 18
20 4 5 10 37
11 3 3 3 36
28 5 2 4 4
19 2 1 6 21
30 1 2 6 16
20 3 3 10 18
12 4 1 9 20
26 1 2 10 40
11 5 3 4 20
13 5 1 3 41
13 5 1 10 12
29 1 3 9 48
17 2 2 7 39
16 4 5 8 38
25 2 1 7 18
22 4 3 5 29
16 3 4 4 35
21 1 1 8 25
21 2 5 7 25
10 3 2 3 15
15 1 5 8 36
24 5 1 1 6
11 4 4 5 11
21 5 2 4 13
28 1 4 5 11
30 1 4 10 33
16 3 3 8 18
21 3 1 1 37
15 1 2 7 18
17 1 1 4 20
27 2 2 8 5
17 1 1 4 26
20 4 1 10 37
11 1 3 5 1
11 4 3 5 4
24 4 1 3 10
28 4 2 10 24
18 1 4 9 3
23 2 2 7 2
28 3 3 6 45
11 5 2 3 31
11 1 5 5 8
10 3 2 9 31
19 2 4 5 3
29 2 2 4 46
10 5 3 4 20
18 3 2 4 4
18 1 4 5 36
20 2 4 5 12
13 4 2 4 15
21 3 5 5 40
20 5 3 5 8
25 4 4 7 8
27 4 1 10 35
18 4 2 8 46
15 4 4 10 29
16 3 5 9 2
26 5 5 9 38
19 2 4 6 1
15 4 5 10 17
10 1 1 2 32
11 4 1 2 41
26 3 2 5 21
25 3 1 4 19
29 4 1 3 11
23 1 5 8 35
20 5 4 5 47
22 5 3 4 23
23 4 2 5 49
25 3 3 4 32
29 4 4 4 9
15 1 4 4 48
13 3 2 6 41
11 5 1 4 29
30 3 3 3 4
16 4 1 3 36
19 1 4 4 41
16 2 1 2 41
14 5 1 1 14
19 2 2 6 32
16 4 1 3 15
21 1 4 6 10
24 4 3 7 34
20 5 2 7 1
21 2 4 9 2
19 4 2 2 6
11 3 2 8 40
22 1 5 5 17
14 1 2 2 42
19 1 4 6 18
18 3 1 1 39
15 2 5 6 29
14 2 1 5 12
13 2 1 6 37
15 2 2 3 22
11 1 5 10 10
30 2 1 7 37
25 1 5 8 12
19 2 5 8 31
18 2 5 6 46
19 2 2 8 7
24 5 4 8 11
20 4 2 2 15
22 4 1 2 29
29 4 1 1 15
15 4 1 8 43
25 3 3 8 17
26 3 4 10 39
10 3 2 9 19
20 4 3 7 42
14 3 1 7 38
15 5 2 7 24
14 3 4 10 1
24 1 3 9 20
30 4 5 6 43
18 2 4 9 12
16 4 1 6 3
13 3 5 7 45
24 3 5 9 50
25 4 5 10 3
19 2 2 4 35
13 3 4 7 44
24 4 2 10 25
15 3 5 7 9
16 1 3 9 27
18 5 1 5 37
24 4 2 6 47
18 1 1 9 15
12 2 1 5 27
10 1 1 7 24
30 2 3 9 30
28 1 3 4 6
21 2 2 6 34
25 4 1 5 2
11 1 1 2 7
16 5 4 10 20
11 4 2 5 11
20 4 1 8 27
13 3 3 7 13
15 5 4 7 39
11 4 2 9 33
18 2 3 5 26
17 4 4 6 18
20 4 5 10 37
11 3 3 3 36
28 5 2 4 4
19 2 1 6 21
30 1 2 6 16
20 3 3 10 18
12 4 1 9 20
26 1 2 10 40
11 5 3 4 20
13 5 1 3 41
13 5 1 10 12
29 1 3 9 48
17 2 2 7 39
16 4 5 8 38
25 2 1 7 18
22 4 3 5 29
16 3 4 4 35
21 1 1 8 25
21 2 5 7 25
10 3 2 3 15
15 1 5 8 36
24 5 1 1 6
11 4 4 5 11
21 5 2 4 13
28 1 4 5 11
30 1 4 10 33
16 3 3 8 18
21 3 1 1 37
15 1 2 7 18
17 1 1 4 20
27 2 2 8 5
17 1 1 4 26
20 4 1 10 37
11 1 3 5 1
11 4 3 5 4
24 4 1 3 10
28 4 2 10 24
18 1 4 9 3
23 2 2 7 2
28 3 3 6 45
11 5 2 3 31
11 1 5 5 8
10 3 2 9 31
19 2 4 5 3
29 2 2 4 46
10 5 3 4 20
18 3 2 4 4
18 1 4 5 36
20 2 4 5 12
13 4 2 4 15
21 3 5 5 40
20 5 3 5 8
25 4 4 7 8
27 4 1 10 35
18 4 2 8 46
15 4 4 10 29
16 3 5 9 2
26 5 5 9 38
19 2 4 6 1
15 4 5 10 17`

type params struct {
	hp, dt, l, r, p int
}

type testCase struct {
	a params
	b params
}

func buildIfGo(path string) (string, func(), error) {
	if strings.HasSuffix(path, ".go") {
		tmp, err := os.CreateTemp("", "solbin*")
		if err != nil {
			return "", nil, err
		}
		tmp.Close()
		if out, err := exec.Command("go", "build", "-o", tmp.Name(), path).CombinedOutput(); err != nil {
			os.Remove(tmp.Name())
			return "", nil, fmt.Errorf("build failed: %v\n%s", err, out)
		}
		return tmp.Name(), func() { os.Remove(tmp.Name()) }, nil
	}
	return path, func() {}, nil
}

func runCandidate(bin, input string) (string, error) {
	cmd := exec.Command(bin)
	cmd.Stdin = strings.NewReader(input)
	var out bytes.Buffer
	var errb bytes.Buffer
	cmd.Stdout = &out
	cmd.Stderr = &errb
	if err := cmd.Run(); err != nil {
		return "", fmt.Errorf("runtime error: %v\n%s", err, errb.String())
	}
	return strings.TrimSpace(out.String()), nil
}

func parseTestcases() ([]testCase, error) {
	fields := strings.Fields(testcasesRaw)
	if len(fields) == 0 {
		return nil, fmt.Errorf("no data")
	}
	pos := 0
	t, err := strconv.Atoi(fields[pos])
	if err != nil {
		return nil, fmt.Errorf("parse t: %v", err)
	}
	pos++
	cases := make([]testCase, 0, t)
	for caseNum := 0; caseNum < t; caseNum++ {
		if pos+10 > len(fields) {
			return nil, fmt.Errorf("truncated at case %d", caseNum+1)
		}
		var a, b params
		readParams := func(p *params) error {
			var err error
			p.hp, err = strconv.Atoi(fields[pos])
			if err != nil {
				return err
			}
			p.dt, err = strconv.Atoi(fields[pos+1])
			if err != nil {
				return err
			}
			p.l, err = strconv.Atoi(fields[pos+2])
			if err != nil {
				return err
			}
			p.r, err = strconv.Atoi(fields[pos+3])
			if err != nil {
				return err
			}
			p.p, err = strconv.Atoi(fields[pos+4])
			if err != nil {
				return err
			}
			pos += 5
			return nil
		}
		if err := readParams(&a); err != nil {
			return nil, fmt.Errorf("case %d: %v", caseNum+1, err)
		}
		if err := readParams(&b); err != nil {
			return nil, fmt.Errorf("case %d: %v", caseNum+1, err)
		}
		cases = append(cases, testCase{a: a, b: b})
	}
	return cases, nil
}

func min(a, b int) int {
	if a < b {
		return a
	}
	return b
}

// Embedded solver logic from 175D.go.
func solveCase(a, b params) string {
	hp := [2]int{a.hp, b.hp}
	dt := [2]int{a.dt, b.dt}
	l := [2]int{a.l, b.l}
	r := [2]int{a.r, b.r}
	p := [2]int{a.p, b.p}
	z := [2]int{r[0] - l[0] + 1, r[1] - l[1] + 1}

	if p[0] == 100 || p[1] == 100 {
		if p[0] == 100 {
			return fmt.Sprintf("%.6f", 0.0)
		}
		return fmt.Sprintf("%.6f", 1.0)
	}

	var state [2][2][205]float64
	w := 0
	state[w][0][hp[0]] = 1.0
	state[w][1][hp[1]] = 1.0
	var result float64

	goStep := func(f int) {
		wp := 1 - w
		for j := 0; j <= hp[f]; j++ {
			state[wp][f][j] = float64(p[1-f]) * 0.01 * state[w][f][j]
		}
		var s float64
		for j := hp[f]; j >= 0; j-- {
			if j+l[1-f] <= hp[f] {
				s += state[w][f][j+l[1-f]]
			}
			if j+r[1-f]+1 <= hp[f] {
				s -= state[w][f][j+r[1-f]+1]
			}
			state[wp][f][j] += 0.01 * float64(100-p[1-f]) / float64(z[1-f]) * s
		}
		for j := 0; j <= hp[f]; j++ {
			if j >= r[1-f] {
				continue
			}
			a := j - r[1-f]
			b := min(j-l[1-f], -1)
			pq := float64(b-a+1) / float64(z[1-f]) * float64(100-p[1-f]) * 0.01
			state[wp][f][0] += pq * state[w][f][j]
		}
		for j := 0; j <= hp[1-f]; j++ {
			state[wp][1-f][j] = state[w][1-f][j]
		}
		w = wp
	}

outer:
	for t := 0; ; t++ {
		if t%dt[0] == 0 {
			result -= state[w][1][0] * (1.0 - state[w][0][0])
			goStep(1)
			result += state[w][1][0] * (1.0 - state[w][0][0])
			q := state[w][0][0] + state[w][1][0] - state[w][0][0]*state[w][1][0]
			if q+1e-7 > 1.0 {
				break outer
			}
		}
		if t%dt[1] == 0 {
			goStep(0)
		}
	}
	return fmt.Sprintf("%.6f", result)
}

func main() {
	if len(os.Args) != 2 {
		fmt.Fprintln(os.Stderr, "usage: go run verifierD.go /path/to/binary")
		os.Exit(1)
	}

	cases, err := parseTestcases()
	if err != nil {
		fmt.Fprintln(os.Stderr, err)
		os.Exit(1)
	}

	bin, cleanup, err := buildIfGo(os.Args[1])
	if err != nil {
		fmt.Fprintln(os.Stderr, err)
		os.Exit(1)
	}
	defer cleanup()

	for idx, tc := range cases {
		want := solveCase(tc.a, tc.b)
		input := fmt.Sprintf("%d %d %d %d %d\n%d %d %d %d %d\n",
			tc.a.hp, tc.a.dt, tc.a.l, tc.a.r, tc.a.p,
			tc.b.hp, tc.b.dt, tc.b.l, tc.b.r, tc.b.p,
		)
		got, err := runCandidate(bin, input)
		if err != nil {
			fmt.Fprintf(os.Stderr, "case %d failed: %v\n", idx+1, err)
			os.Exit(1)
		}
		if strings.TrimSpace(got) != want {
			fmt.Fprintf(os.Stderr, "case %d failed: expected %s got %s\n", idx+1, want, got)
			os.Exit(1)
		}
	}
	fmt.Printf("All %d tests passed\n", len(cases))
}
