package main

import (
	"fmt"
	"os"
	"os/exec"
	"strconv"
	"strings"
)

type trieNode struct {
	child [2]int
}

func solve(input string) (string, error) {
	fields := strings.Fields(strings.TrimSpace(input))
	if len(fields) == 0 {
		return "", fmt.Errorf("empty input")
	}
	n, err := strconv.Atoi(fields[0])
	if err != nil {
		return "", err
	}
	if len(fields) != n+1 {
		return "", fmt.Errorf("expected %d numbers, got %d", n, len(fields)-1)
	}
	a := make([]uint64, n+1)
	for i := 1; i <= n; i++ {
		v, err := strconv.ParseUint(fields[i], 10, 64)
		if err != nil {
			return "", err
		}
		a[i] = v
	}

	P := make([]uint64, n+1)
	for i := 1; i <= n; i++ {
		P[i] = P[i-1] ^ a[i]
	}
	S := make([]uint64, n+2)
	for i := n; i >= 1; i-- {
		S[i] = S[i+1] ^ a[i]
	}

	nodes := make([]trieNode, 1, (n+1)*41)
	insert := func(x uint64) {
		cur := 0
		for bit := 39; bit >= 0; bit-- {
			b := int((x >> uint(bit)) & 1)
			if nodes[cur].child[b] == 0 {
				nodes = append(nodes, trieNode{})
				nodes[cur].child[b] = len(nodes) - 1
			}
			cur = nodes[cur].child[b]
		}
	}
	query := func(x uint64) uint64 {
		cur := 0
		var res uint64
		for bit := 39; bit >= 0; bit-- {
			b := int((x >> uint(bit)) & 1)
			opp := b ^ 1
			if nodes[cur].child[opp] != 0 {
				res |= uint64(1) << uint(bit)
				cur = nodes[cur].child[opp]
			} else {
				cur = nodes[cur].child[b]
			}
		}
		return res
	}

	insert(P[0])
	var ans uint64
	for j := 1; j <= n+1; j++ {
		if val := query(S[j]); val > ans {
			ans = val
		}
		if j <= n {
			insert(P[j])
		}
	}

	return fmt.Sprint(ans), nil
}

var testcases = []string{
	"28 394 776 911 430 41 265 988 523 497 414 940 802 849 310 991 488 366 597 913 929 223 516 142 288 143 773 97 633",
	"26 256 931 545 722 829 616 923 150 317 101 747 75 920 870 700 338 483 573 103 362 444 323 625 655 934 209",
	"18 488 453 886 533 266 63 824 940 561 937 14 95 736 860 408 727 844 803",
	"22 640 1 626 505 847 888 341 249 747 333 720 891 64 195 939 581 227 244 822 990 145 822",
	"18 458 93 82 327 896 520 955 501 111 308 564 298 723 127 560 340 834 944",
	"18 208 986 818 617 560 601 294 455 93 610 817 394 324 589 247 297 188 193",
	"27 191 33 627 672 266 487 70 91 695 775 133 897 153 945 39 862 82 919 716 945 849 553 699 400 857 722 537",
	"9 534 831 241 869 220 916 695 603 845",
	"14 593 281 461 504 676 656 717 938 812 365 84 332 627 118",
	"16 601 645 343 865 194 248 16 749 277 119 722 225 380 813 174 340",
	"14 835 63 103 801 149 875 714 224 46 836 587 649 931 958",
	"18 616 696 75 27 127 650 193 620 850 589 122 400 93 379 853 118 37 620",
	"1 199",
	"6 735 126 490 215 744 819",
	"2 959 695",
	"1 557",
	"14 635 103 855 266 71 226 73 662 308 358 446 184 62 515",
	"15 40 610 103 716 400 204 266 367 926 749 481 858 923 940 583",
	"6 714 688 208 989 785 59",
	"26 692 162 865 165 350 542 256 120 611 943 452 681 179 13 482 697 419 921 582 895 520 939 318 664 365 397",
	"2 77 801",
	"30 293 550 833 65 83 905 681 567 432 811 191 807 969 729 112 838 441 816 816 163 255 780 161 445 447 920 931 743 790 864 727",
	"15 21 362 463 979 820 444 64 734 557 590 22 926 994 2 101",
	"6 465 148 131 221 971 974",
	"18 419 451 921 156 200 161 924 782 776 848 182 37 977 230 10 738 306 26 341",
	"1 994",
	"25 222 386 848 129 224 209 14 494 896 373 69 204 717 167 171 275 937 598 142 721 32 390 383 870 611",
	"17 457 666 726 396 235 981 181 187 788 18 755 152 784 276 72 387 503",
	"1 18",
	"18 713 110 465 12 941 864 355 154 74 509 639 975 563 532 598 265 823 776",
	"7 871 982 964 78 413 920 370 240",
	"3 810 920 179",
	"28 689 700 31 313 30 257 739 839 780 585 567 166 734 901 868 915 449 781 237 163 10 769 171 797 534 226 83 791 188",
	"20 817 53 931 391 379 208 6 705 805 699 457 399 85 956 521 921 1000 360 880 895",
	"21 303 499 389 949 438 677 743 168 241 815 166 768 921 753 320 885 311 52 441 884 242",
	"10 760 338 491 12 254 74 461 597 252 8",
	"21 772 932 756 543 243 577 899 571 509 619 936 508 104 242 403 146 220 71 460 908 271",
	"24 938 284 226 963 948 554 332 832 888 913 101 619 88 626 747 345 867 747 192 565 47 169 711 981",
	"18 878 676 501 192 371 232 27 495 116 44 359 190 544 340 71 714 76 929 759",
	"3 224 565 576",
	"12 833 547 377 186 45 114 745 345 551 307 460 251 895",
	"23 775 949 551 768 296 590 867 554 351 287 132 724 966 156 995 123 323 596 750 516 857 573 503",
	"25 128 851 753 387 143 368 419 201 978 682 693 964 942 825 409 944 894 802 279 878 51 261 986 299 410",
	"18 255 985 55 846 410 16 266 273 433 234 898 291 74 703 498 340 228 360",
	"10 913 55 495 410 971 650 509 787 995 180",
	"27 837 94 981 603 511 954 214 222 86 70 718 791 901 616 7 615 817 213 76 939 561 959 891 763 379 884 855",
	"4 261 820 966 720 672",
	"11 702 698 899 614 575 564 523 742 303 695 700",
	"30 154 106 530 514 586 808 919 326 814 680 770 385 884 160 81 310 639 415 126 856 300 892 834 93 947 238 195 591 140 798 487",
	"23 192 834 374 425 156 235 170 593 735 949 157 547 842 654 900 147 635 145 566 39 187 872 235",
	"15 690 38 423 208 447 644 485 766 89 162 344 820 886 985 58 546",
	"26 666 653 372 836 637 309 225 106 111 878 632 174 630 642 698 725 7 57 641 727 515 714 966 895 414 766",
	"14 404 787 708 520 711 847 56 462 762 298 524 866 144 843 460",
	"15 238 455 402 956 815 177 842 958 433 838 812 924 809 960 473 130",
	"4 97 946 687 479 333",
	"18 70 537 823 493 123 115 347 361 114 423 49 303 494 776 465 227 852 962 950",
	"9 131 11 834 305 679 613 6 310 740",
	"5 923 706 543 733 397 349",
	"27 455 289 319 206 614 445 672 68 502 667 602 99 777 487 99 172 859 229 689 38 632 483 35 366 978 365 541",
	"28 606 535 421 887 762 983 467 830 585 718 498 883 937 50 776 289 942 481 17 457 737 330 609 538 896 360 424 122 603",
	"15 85 932 674 15 643 654 734 187 777 294 753 64 782 34 294",
	"22 355 901 656 491 409 583 713 849 245 430 851 498 35 58 764 978 609 56 778 190 584 693",
	"10 99 402 957 709 860 209 890 255 771 660 189",
	"4 953 176 757 545 458",
	"1 366",
	"29 841 846 712 708 120 427 508 752 588 971 82 454 735 471 565 248 841 166 216 437 334 792 351 136 297 218 669 977 287 514",
	"14 364 302 265 401 423 45 881 936 263 971 68 374 622 333 83",
	"19 879 262 819 104 301 188 508 786 540 12 404 991 938 25 801 215 342 788 234",
	"2 951 681",
	"26 563 618 942 59 679 281 374 28 614 299 603 350 274 813 623 817 689 120 478 623 658 765 834 173 240 995",
	"19 324 249 490 268 696 351 620 345 945 4 696 952 23 626 228 282 325 226 359",
	"4 857 615 236 753 442",
	"12 372 839 930 945 804 815 769 579 182 538 591 431 73",
	"2 855 653",
	"8 772 963 989 120 33 962 687 921 665",
	"6 49 580 355 356 2 92 701",
	"20 844 430 437 614 855 89 219 61 967 993 387 611 88 345 292 119 507 320 80 731",
	"11 186 510 931 368 397 244 501 282 346 917 604",
	"19 896 352 713 644 943 196 963 300 298 703 340 228 431 390 374 804 922 182 874",
	"3 483 196 297 496",
	"26 480 536 53 9 188 712 110 36 373 663 951 257 847 373 825 512 924 907 227 877 226 333 50 632 221 58 127",
	"18 99 801 947 381 757 590 542 718 856 773 425 444 547 241 455 17 428 269 34",
	"17 803 599 919 854 977 822 467 490 109 700 102 217 4 622 754 659 960 136",
	"26 212 369 880 695 987 481 19 646 384 665 213 509 756 239 397 139 533 402 297 461 383 507 836 925 20 813",
	"29 12 797 659 900 227 905 24 805 884 269 166 512 245 782 190 524 640 146 825 946 279 980 351 563 781 576 754 756 582",
	"9 390 788 150 957 226 811 871 685 377",
	"2 216 734",
	"15 910 235 81 667 925 618 90 675 312 681 478 72 141 953 718 211",
	"12 16 643 677 238 635 425 864 875 176 534 970 204",
	"24 10 651 150 24 372 691 124 656 272 87 672 571 8 736 425 829 883 863 855 929 29 886 193 773",
	"6 542 290 440 112 920 529 103",
	"6 169 484 134 858 187 196 539",
	"11 568 704 543 1 144 577 870 874 67 54 215 989",
	"11 836 604 681 921 62 218 686 715 554 181 421",
	"11 8 52 75 680 336 449 679 522 709 354 691",
	"10 117 985 370 769 22 415 50 432 201 132 389",
	"10 215 595 523 939 186 188 496 67 57 908 299",
	"21 593 332 279 571 406 830 122 524 260 554 926 965 322 742 385 109 797 493 280 987 172",
	"12 729 167 307 346 167 102 910 192 963 526 989 462 407",
	"10 568 930 631 723 701 937 955 406 874 385 767",
	"13 22 995 547 415 232 461 502 2 755 411 886 459 377 230",
	"17 140 626 274 204 908 339 150 975 769 250 886 503 252 784 916 394 555 333",
	"17 779 19 634 563 165 122 888 458 399 475 207 477 62 705 951 790 477",
	"15 390 791 223 31 429 487 97 756 893 260 46 331 410 335 644 2",
}

func main() {
	if len(os.Args) != 2 {
		fmt.Println("usage: go run verifierE.go /path/to/binary")
		os.Exit(1)
	}
	bin := os.Args[1]

	for idx, tc := range testcases {
		input := strings.TrimSpace(tc) + "\n"

		expected, err := solve(input)
		if err != nil {
			fmt.Fprintf(os.Stderr, "test %d: oracle error: %v\n", idx+1, err)
			os.Exit(1)
		}

		cmd := exec.Command(bin)
		cmd.Stdin = strings.NewReader(input)
		out, err := cmd.CombinedOutput()
		if err != nil {
			fmt.Fprintf(os.Stderr, "test %d: runtime error: %v\n%s", idx+1, err, string(out))
			os.Exit(1)
		}

		got := strings.TrimSpace(string(out))
		if got != expected {
			fmt.Fprintf(os.Stderr, "test %d failed\nexpected: %s\n got: %s\n", idx+1, expected, got)
			os.Exit(1)
		}
	}

	fmt.Printf("All %d tests passed\n", len(testcases))
}
