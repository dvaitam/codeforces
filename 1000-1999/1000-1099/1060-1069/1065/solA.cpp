#include <iostream>
#include <algorithm>
#define maxn 100000
using namespace std;
long long s,a,b,c,t,f,i;
int main()
{
    cin >> t;
    for (i = 1; i <= t; i++)
        {
            cin >> s >> a>> b >> c;
        cout << s/c + s /c /a * b<< "\n";
        }
}